<div class="card xs:col-12 md:col-10 lg:col-12 mx-auto px-3 text-center">
<h1>Worktimes</h1>
<h3>Registered worktimes list</h3>


<p-select [options]="users" [(ngModel)]="selectedUser" optionValue="id" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" placeholder="Select a User" class="w-full md:w-56">
    <ng-template #selectedItem let-selectedOption>
        <div class="flex items-center gap-2">
            <div>{{ selectedOption.name }}</div>
        </div>
    </ng-template>
    <ng-template let-user #item>
        <div class="flex items-center gap-2">
            <div>{{ user.name }}</div>
        </div>
    </ng-template>
</p-select>
<div class="card">
    <p-table
      #dt2
      [value]="worktimes"
      [rows]="10"
      [rowsPerPageOptions]="[5, 10, 25, 50]"
      [paginator]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      styleClass="p-datatable-striped"
      selectionMode="single"
      [globalFilterFields]="filterFields"
    >

    <ng-template pTemplate="caption">
      <div class="flex">
        <p-button icon="pi pi-plus" label="Add Worktime" routerLink="/worktimes/new"></p-button>
          <p-iconField iconPosition="left" class="ml-auto">
              <p-inputIcon>
                  <i class="pi pi-search"></i>
              </p-inputIcon>
              <input
                  pInputText
                  type="text"
                  (input)="handleInput($event)"
                  placeholder="Search keyword" />
          </p-iconField>
      </div>
  </ng-template>

        <ng-template pTemplate="header">
            <tr>
                <th>#</th>
                <th pSortableColumn="date" >Date<p-sortIcon field="date" /></th>
                <th pSortableColumn="user.name">User <p-sortIcon field="user.name" /></th>
                <th pSortableColumn="start">Start <p-sortIcon field="start" /></th>
                <th pSortableColumn="end">End <p-sortIcon field="end" /></th>
                <th  class="text-right">Operations</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-worktime let-rowIndex="rowIndex">
            <tr>
                <td>{{ rowIndex +1 }}.</td>
                <td>{{ worktime.date }}</td>
                <td>{{ worktime.user?.name }}</td>
                <td>{{ worktime.start }}</td>
                <td>{{ worktime.end }}</td>
                <td class="text-right">Gombok </td>
            </tr>
        </ng-template>
    </p-table>
</div>
</div>